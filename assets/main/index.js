System.register("chunks:///_virtual/InputReceiveCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MusicNoteCtr.ts","./MusicStringCtr.ts","./SingleTouchCtr.ts"],(function(t){"use strict";var n,i,e,o,s,r,c,u;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator,o=t.director,s=t.Component},function(t){r=t.MusicNoteCtr},function(t){c=t.MusicStringCtr},function(t){u=t.SingleTouchCtr}],execute:function(){var h;i._RF.push({},"ddb74/JOI1AQYOKA4FUNuuL","InputReceiveCtr",void 0);var l=e.ccclass;e.property,t("InputReceiveCtr",l("InputReceiveCtr")(h=function(t){function i(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this)._singleTouchCtr=void 0,n._musicStringStr=void 0,n}n(i,t);var e=i.prototype;return e.start=function(){this.init(o.getScene().getComponentInChildren(c))},e.onDestroy=function(){this.myDestroy()},e.init=function(t){this._singleTouchCtr=new u,this._singleTouchCtr.eventTarget.on(u.SingleTouchDownEvent,this.onDown,this),this._singleTouchCtr.eventTarget.on(u.SingleTouchMoveEvent,this.onMove,this),this._singleTouchCtr.eventTarget.on(u.SingleTouchUpEvent,this.onUp,this),this._musicStringStr=t,this._musicStringStr.init(o.getScene().getComponentInChildren(r))},e.myDestroy=function(){var t,n,i;this._singleTouchCtr&&(null==(t=this._singleTouchCtr.eventTarget)||t.off(u.SingleTouchDownEvent,this.onDown,this),null==(n=this._singleTouchCtr.eventTarget)||n.off(u.SingleTouchMoveEvent,this.onMove,this),null==(i=this._singleTouchCtr.eventTarget)||i.off(u.SingleTouchUpEvent,this.onUp,this),this._singleTouchCtr.myDestroy(),this._singleTouchCtr=null);this._musicStringStr&&(this._musicStringStr.myDestroy(),this._musicStringStr=null)},e.onDown=function(t){this._musicStringStr.isValidPos(t)&&this._musicStringStr.play(t.y),console.info("按下："+t)},e.onMove=function(t){this._musicStringStr.isValidPos(t)?this._musicStringStr.play(t.y):this._musicStringStr.stopPlay()},e.onUp=function(t){this._musicStringStr.stopPlay()},i}(s))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./InputReceiveCtr.ts","./MusicNoteAppearance.ts","./MusicNoteAppearanceCtr.ts","./MusicNoteCtr.ts","./MusicNoteData.ts","./MusicStringCtr.ts","./SingleTouchCtr.ts","./TipsCtr.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MusicNoteAppearance.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,t,o,n,r,s,a,c,l,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Node,c=e.UITransform,l=e.Size,u=e.Component}],execute:function(){var p,y,d,h,N,f,_,m,b;r._RF.push({},"cbd3cH4XABIgrojKD0sehji","MusicNoteAppearance",void 0);var v=s.ccclass,w=s.property;e("MusicNoteAppearance",(p=v("MusicNoteAppearance"),y=w({type:a,visible:!0,displayName:"Node"}),d=w({type:c,visible:!0,displayName:"uiTrans"}),h=w({type:a,visible:!0,displayName:"选中标志"}),p((_=i((f=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,o(i,"_myNode",_,n(i)),o(i,"_uiTrans",m,n(i)),o(i,"_selectNode",b,n(i)),i}t(i,e);var r=i.prototype;return r.init=function(e,i){this._myNode.setWorldPosition(e.x,e.y,this._myNode.worldPosition.z),console.info("设置位置："+this._myNode.worldPosition),this._uiTrans.setContentSize(new l(i,i)),this.unselect(),this.show()},r.myDestroy=function(){},r.hide=function(){this._myNode.active=!1},r.show=function(){this._myNode.active=!0},r.select=function(){this._selectNode.active=!0},r.unselect=function(){this._selectNode.active=!1},i}(u)).prototype,"_myNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(f.prototype,"_uiTrans",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(f.prototype,"_selectNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=f))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/MusicNoteAppearanceCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MusicNoteAppearance.ts","./MusicStringCtr.ts"],(function(t){"use strict";var e,n,i,r,s,o,a,c,l,u,p,h,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,a=t._decorator,c=t.director,l=t.instantiate,u=t.Vec2,p=t.Component},function(t){h=t.MusicNoteAppearance},function(t){_=t.MusicStringCtr}],execute:function(){var y,g,f,v,m;o._RF.push({},"c098f+2oWZMJLqKdyjCz1oh","MusicNoteAppearanceCtr",void 0);var C=a.ccclass,S=a.property;t("MusicNoteAppearanceCtr",(y=C("MusicNoteAppearanceCtr"),g=S({type:h,visible:!0,displayName:"note模板"}),y((m=e((v=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this)._musicStringCtr=void 0,i(e,"_noteTemplate",m,r(e)),e._notes=void 0,e}n(e,t);var o=e.prototype;return o.start=function(){this.init(c.getScene().getComponentInChildren(_))},o.onDestroy=function(){this.myDestroy()},o.init=function(t){this._musicStringCtr=t,this._musicStringCtr.eventTarget.on(_.PlayEvent,this.onPlay,this),this._musicStringCtr.eventTarget.on(_.StopPlayEvent,this.onStopPlay,this),this._noteTemplate.hide(),this._notes=new Array;for(var e=this._musicStringCtr.posX,n=0;n<this._musicStringCtr.points.length;n++){var i=l(this._noteTemplate.node).getComponent(h);i.node.setParent(this._noteTemplate.node.parent),i.init(new u(e,this._musicStringCtr.points[n]),this._musicStringCtr.pointInterval),this._notes.push(i)}},o.myDestroy=function(){var t,e;this._musicStringCtr&&(null==(t=this._musicStringCtr.eventTarget)||t.off(_.PlayEvent,this.onPlay,this),null==(e=this._musicStringCtr.eventTarget)||e.off(_.StopPlayEvent,this.onStopPlay,this),this._musicStringCtr=null);if(this._notes){for(var n,i=s(this._notes);!(n=i()).done;){var r=n.value;null==r||r.myDestroy()}this._notes.splice(0,this._notes.length),this._notes=null}},o.onPlay=function(t){for(var e=0;e<this._notes.length;e++)e==t?this._notes[e].select():this._notes[e].unselect()},o.onStopPlay=function(){for(var t,e=s(this._notes);!(t=e()).done;){t.value.unselect()}},e}(p)).prototype,"_noteTemplate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/MusicNoteCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MusicNoteData.ts"],(function(i){"use strict";var t,e,o,r,a,u,n,s,c,l;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,r=i.assertThisInitialized,a=i.createClass},function(i){u=i.cclegacy,n=i._decorator,s=i.AudioSource,c=i.Component},function(i){l=i.MusicNoteData}],execute:function(){var p,d,y,f,h,_,S,v;u._RF.push({},"dbf71kjlH5Jy4OfNvFliOj5","MusicNoteCtr",void 0);var b=n.ccclass,g=n.property;i("MusicNoteCtr",(p=b("MusicNoteCtr"),d=g({type:s,visible:!0,displayName:"音源"}),y=g({type:l,visible:!0,displayName:"音符"}),p(((v=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),u=0;u<e;u++)a[u]=arguments[u];return t=i.call.apply(i,[this].concat(a))||this,o(t,"_audioSource",_,r(t)),o(t,"_curData",S,r(t)),t._index=void 0,t}e(t,i);var u=t.prototype;return u.resetIndex=function(){this._index=t.deafaultIndex},u.init=function(){this.stopPlay()},u.myDestroy=function(){},u.play=function(i){this.isPlaying||(this._audioSource.loop=!0),this._index=i,this._audioSource.clip&&this._audioSource.stop(),this._audioSource.clip=this._curData.getClip(i),this._audioSource.play()},u.stopPlay=function(){this.resetIndex(),this._audioSource.stop(),this._audioSource.clip=null,this._audioSource.loop=!1},a(t,[{key:"isPlaying",get:function(){return this._index!=t.deafaultIndex}}]),t}(c)).deafaultIndex=-1,_=t((h=v).prototype,"_audioSource",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(h.prototype,"_curData",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));u._RF.pop()}}}));

System.register("chunks:///_virtual/MusicNoteData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,o,c,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.AudioClip,s=t.Component}],execute:function(){var l,p,u,f,y;o._RF.push({},"7c0cafrHOpBvIAWH5M+PiKr","MusicNoteData",void 0);var h=c.ccclass,v=c.property;t("MusicNoteData",(l=h("MusicNoteData"),p=v({type:[a],visible:!0,displayName:"从低到高的所有音符：15个"}),l((y=e((f=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,r(e,"_clips",y,n(e)),e}return i(e,t),e.prototype.getClip=function(t){return(t<0||t>=this._clips.length)&&(console.info("MusicNoteData获取Clip失败："+t),t=0),this._clips[t]},e}(s)).prototype,"_clips",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Array}}),u=f))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/MusicStringCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,s,r,o,a,u,h,l,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose,o=t.createClass},function(t){a=t.cclegacy,u=t._decorator,h=t.UITransform,l=t.Vec2,c=t.EventTarget,p=t.Component}],execute:function(){var _,v,y,g,d,x;a._RF.push({},"f04aaCyvUVKFpdrExVaXBqS","MusicStringCtr",void 0);var f=u.ccclass,C=u.property;t("MusicStringCtr",(_=f("MusicStringCtr"),v=C({type:h,visible:!0,displayName:"uiTrans"}),_(((x=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"_uiTrans",d,s(e)),e._xRange=void 0,e._points=void 0,e._pointInterval=void 0,e._yRange=void 0,e._index=void 0,e._musicNoteCtr=void 0,e._eventTarget=void 0,e}i(e,t);var a=e.prototype;return a.init=function(t){var i=this._uiTrans.contentSize.width,n=this._uiTrans.node.worldPosition;this._xRange=new l(n.x-i/2,n.x+i/2);var s=this._uiTrans.contentSize.height,r=n.y-s/2;this._pointInterval=s/(e.pointsCnt-1),this._points=new Array;for(var o=0;o<e.pointsCnt;o++)this._points.push(r+this._pointInterval*o);this._yRange=new l(this._points[0]-this._pointInterval/2,this._points[this._points.length-1]+this._pointInterval/2),this.resetIndex(),this._musicNoteCtr=t,this._musicNoteCtr.init(),this._eventTarget=new c},a.myDestroy=function(){this._points.splice(0,this._points.length),this._points=null,this._musicNoteCtr&&(this._musicNoteCtr.myDestroy(),this._musicNoteCtr=null),this._eventTarget=null},a.isValidPos=function(t){var e=!1;return t.x<=this._xRange.y&&t.x>=this._xRange.x&&t.y<=this._yRange.y&&t.y>=this._yRange.x&&(e=!0),e},a.play=function(t){var i=this._index;if(this.isPlaying){var n=this.getNearestIndexes(this._index);i=this.getClosestIndex(t,n)}else i=this.getClosestIndex(t,this.createSuccessiveIntArray(0,this._points.length));i!=this._index&&(this._index=i,this.eventTarget.emit(e.PlayEvent,this._index),this._musicNoteCtr.play(this._index))},a.stopPlay=function(){this.isPlaying&&(this.eventTarget.emit(e.StopPlayEvent),this.resetIndex(),this._musicNoteCtr.stopPlay())},a.resetIndex=function(){this._index=e.deafaultIndex},a.getNearestIndexes=function(t,e){void 0===e&&(e=!0);var i=new Array;return e&&i.push(t),0==t?i.push(t+1):(t==this._points.length-1||i.push(t+1),i.push(t-1)),i},a.getClosestIndex=function(t,e){for(var i,n=e[0],s=Number.MAX_VALUE,o=r(e);!(i=o()).done;){var a=i.value,u=this._points[a],h=Math.abs(u-t);h<s&&(n=a,s=h)}return n},a.createSuccessiveIntArray=function(t,e){for(var i=new Array,n=0;n<e;n++)i.push(t+n);return i},o(e,[{key:"posX",get:function(){return(this._xRange.x+this._xRange.y)/2}},{key:"points",get:function(){return this._points}},{key:"pointInterval",get:function(){return this._pointInterval}},{key:"isPlaying",get:function(){return this._index!=e.deafaultIndex}},{key:"eventTarget",get:function(){return this._eventTarget}}]),e}(p)).pointsCnt=15,x.deafaultIndex=-1,x.PlayEvent="MusicStringCtrPlayEvent",x.StopPlayEvent="MusicStringCtrStopPlayEvent",d=e((g=x).prototype,"_uiTrans",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=g))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/SingleTouchCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,n,h,c,u;return{setters:[function(t){e=t.createClass},function(t){o=t.cclegacy,n=t._decorator,h=t.input,c=t.Input,u=t.EventTarget}],execute:function(){o._RF.push({},"3f3cbjMaaVM4aZUwp4n61af","SingleTouchCtr",void 0);n.ccclass,n.property;var i=t("SingleTouchCtr",function(){function t(){this._touchId=void 0,this._eventTarget=void 0,h.on(c.EventType.TOUCH_START,this.onTouchStart,this),h.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),h.on(c.EventType.TOUCH_END,this.onTouchEnd,this),this.resetTouchId(),this._eventTarget=new u}var o=t.prototype;return o.myDestroy=function(){h.off(c.EventType.TOUCH_START,this.onTouchStart,this),h.off(c.EventType.TOUCH_MOVE,this.onTouchMove,this),h.off(c.EventType.TOUCH_END,this.onTouchEnd,this),this._eventTarget=null},o.resetTouchId=function(){this._touchId=t.defaultTouchId},o.hasTouchId=function(){return this._touchId!=t.defaultTouchId},o.onTouchStart=function(e){this.hasTouchId()||(this._touchId=e.touch.getID(),this.eventTarget.emit(t.SingleTouchDownEvent,e.touch.getUILocation()))},o.onTouchMove=function(e){this._touchId==e.touch.getID()&&this.eventTarget.emit(t.SingleTouchMoveEvent,e.touch.getUILocation())},o.onTouchEnd=function(e){this._touchId==e.touch.getID()&&(this.eventTarget.emit(t.SingleTouchUpEvent,e.touch.getUILocation()),this.resetTouchId())},e(t,[{key:"eventTarget",get:function(){return this._eventTarget}}]),t}());i.defaultTouchId=-1,i.SingleTouchDownEvent="SingleTouchDownEvent",i.SingleTouchMoveEvent="SingleTouchMoveEvent",i.SingleTouchUpEvent="SingleTouchUpEvent",o._RF.pop()}}}));

System.register("chunks:///_virtual/TipsCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var t,e,n,s,r,o,l,a,p,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){r=i.cclegacy,o=i._decorator,l=i.Button,a=i.Label,p=i.Node,c=i.Component}],execute:function(){var u,h,y,f,_,b,v,d,C;r._RF.push({},"1a623AV+1VPfLBzcA3q4LMF","TipsCtr",void 0);var T=o.ccclass,L=o.property;i("TipsCtr",(u=T("TipsCtr"),h=L({type:l,visible:!0,displayName:"控制按钮"}),y=L({type:a,visible:!0,displayName:"提示文字"}),f=L({type:p,visible:!0,displayName:"提示"}),u((v=t((b=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=i.call.apply(i,[this].concat(r))||this,n(t,"_funcBtn",v,s(t)),n(t,"_tipsLabel",d,s(t)),n(t,"_tips",C,s(t)),t._isDisplay=void 0,t}e(t,i);var r=t.prototype;return r.start=function(){this.init()},r.onDestroy=function(){this.myDestroy()},r.init=function(){this._funcBtn.node.on(l.EventType.CLICK,this.onClickFuncBtn,this),this.hideTips()},r.myDestroy=function(){var i,t;null==(i=this._funcBtn)||null==(t=i.node)||t.off(l.EventType.CLICK,this.onClickFuncBtn,this)},r.onClickFuncBtn=function(){this._isDisplay?this.hideTips():this.showTips()},r.hideTips=function(){this._tips.active=!1,this._tipsLabel.string="提示",this._isDisplay=!1},r.showTips=function(){this._tips.active=!0,this._tipsLabel.string="隐藏提示",this._isDisplay=!0},t}(c)).prototype,"_funcBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(b.prototype,"_tipsLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(b.prototype,"_tips",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=b))||_));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});