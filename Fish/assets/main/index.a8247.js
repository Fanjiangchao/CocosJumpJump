System.register("chunks:///_virtual/ClickFishCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MyFish.ts"],(function(t){"use strict";var i,e,n,c,o,r,a,s,h,l,u,y,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,c=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Camera,s=t.geometry,h=t.input,l=t.Input,u=t.PhysicsSystem,y=t.Component},function(t){p=t.MyFish}],execute:function(){var f,C,_,k,v;o._RF.push({},"742afIBq/ZNo7glNtjbTUz3","ClickFishCtr",void 0);var T=r.ccclass,m=r.property;t("ClickFishCtr",(f=T("ClickFishCtr"),C=m({type:a,visible:!0,displayName:"相机"}),f((v=i((k=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))||this)._canCheck=void 0,n(i,"_cam",v,c(i)),i._ray=void 0,i}e(i,t);var o=i.prototype;return o.start=function(){this.init()},o.onDestroy=function(){this.myDestroy()},o.update=function(t){},o.init=function(){this._ray=new s.Ray,h.on(l.EventType.TOUCH_START,this.onTouchStart,this),this.enableClickCheck()},o.myDestroy=function(){h.off(l.EventType.TOUCH_START,this.onTouchStart,this)},o.enableClickCheck=function(){this._canCheck=!0},o.disableClickCheck=function(){this._canCheck=!1},o.onTouchStart=function(t){if(this._canCheck&&(this._cam.screenPointToRay(t.getLocation().x,t.getLocation().y,this._ray),u.instance.raycast(this._ray)))for(var i=u.instance.raycastResults,e=0;e<i.length;e++){var n=i[e].collider.node.getComponent(p);n&&n.click()}},i}(y)).prototype,"_cam",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=k))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/Fish.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,r,a,o,u,c,s,l,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,u=e._decorator,c=e.animation,s=e.SkinnedMeshRenderer,l=e.Material,h=e.CCFloat,f=e.Component}],execute:function(){var p,d,y,_,b,v,m,g,x,I,k;o._RF.push({},"40006aUPbVJsbybdoemAh+E","Fish",void 0);var F=u.ccclass,M=u.property;e("Fish",(p=F("Fish"),d=M({type:c.AnimationController,visible:!0}),y=M({type:s,visible:!0}),_=M({type:[l],visible:!0}),b=M({type:h,visible:!0}),p((g=t((m=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_ac",g,r(t)),i(t,"_skinRenderer",x,r(t)),i(t,"_mats",I,r(t)),t._curIndex=0,i(t,"_interval",k,r(t)),t._canTurnOver=void 0,t}n(t,e);var o=t.prototype;return o.onLoad=function(){this.init()},o.start=function(){},o.update=function(e){},o.onDestroy=function(){this.myDestroy()},o.turnOver=function(){this.curIndex++,this._ac.setValue("TurnOver",this.curIndex),this.changeMat(300)},o.init=function(){this._curIndex=0,this.changeMat(),this._canTurnOver=!0,this._canTurnOver=!1},o.myDestroy=function(){},o.onTouchStart=function(e){},o.changeMat=function(e){var t=this;setTimeout((function(){return t._skinRenderer.setMaterial(t._mats[t._curIndex],0)}),300)},a(t,[{key:"maxIndex",get:function(){return this._mats.length-1}},{key:"curIndex",get:function(){return this._curIndex},set:function(e){(e<0||e>this.maxIndex)&&(e=0),this._curIndex=e}}]),t}(f)).prototype,"_ac",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(m.prototype,"_skinRenderer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(m.prototype,"_mats",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(m.prototype,"_interval",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),v=m))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/FishGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Level.ts","./MyFish.ts"],(function(i){"use strict";var e,t,s,r,n,o,h,a,u,l,c,f,d;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,s=i.initializerDefineProperty,r=i.assertThisInitialized,n=i.createForOfIteratorHelperLoose},function(i){o=i.cclegacy,h=i._decorator,a=i.Prefab,u=i.Vec2,l=i.instantiate,c=i.Component},function(i){f=i.Level},function(i){d=i.MyFish}],execute:function(){var y,p,v,F,m;o._RF.push({},"0e635cFw5JOq55YwCuPCtqk","FishGroup",void 0);var _=h.ccclass,b=h.property,w=(i("FishGroup",(y=_("FishGroup"),p=b({type:a,visible:!0}),y((m=e((F=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=i.call.apply(i,[this].concat(n))||this)._fishes=void 0,s(e,"_myFishPrefab",m,r(e)),e}t(e,i);var o=e.prototype;return o.init=function(){this._fishes=new Array},o.myDestroy=function(){this.destroyAllFishes()},o.createFishes=function(i){this.destroyAllFishes(),this._fishes=new Array;for(var e=0;e<i.x;e++)for(var t=0;t<i.y;t++){var s=new u(e,t),r=(this.idToKey(s),l(this._myFishPrefab).getComponent(d));r.init(s,this),this.node.addChild(r.node),this._fishes.push(new w(s,r))}},o.destroyAllFishes=function(){this._fishes.splice(0,this._fishes.length),this._fishes=null,this.node.removeAllChildren()},o.idToKey=function(i){return 100*i.x+i.y},o.keyToId=function(i){return new u(Number((i/100).toFixed(0)),i%100)},o.turnover=function(i){if(this.isValidId){var e=this.getNeighborIds(i);e.push(i);for(var t,s=n(e);!(t=s()).done;){var r=t.value,o=this.idToFish(r);o&&o.turnOver()}}},o.isValidId=function(i){return i.x>=0&&i.y>=0&&i.x<f.instance.mapSize.x&&i.y<f.instance.mapSize.y},o.getNeighborIds=function(i){for(var e=[new u(i.x-1,i.y),new u(i.x+1,i.y),new u(i.x,i.y-1),new u(i.x,i.y+1)],t=e.length-1;t>=0;t--){var s=e[t];this.isValidId(s)||e.splice(t,1)}return e},o.idToFish=function(i){for(var e,t=null,s=n(this._fishes);!(e=s()).done;){var r=e.value;if(r.id.equals(i)){t=r.myFish;break}}return t},e}(c)).prototype,"_myFishPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=F))||v)),function(i,e){this.id=void 0,this.myFish=void 0,this.id=i,this.myFish=e});o._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MyTouchDownCtr.ts","./PlayerCtr.ts"],(function(t){"use strict";var e,r,i,n,a,o,s,h,u,l,c,d,p,f,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,s=t._decorator,h=t.Prefab,u=t.Node,l=t.Label,c=t.instantiate,d=t.Vec3,p=t.Component},function(t){f=t.MyTouchDownCtr},function(t){y=t.PlayerCtr}],execute:function(){var _,T,b,g,N,m,S,C,L,v,G,w,B,E;o._RF.push({},"1dda01dggtE7q4rg3YkGo1K","GameMgr",void 0);var I,M,R=s.ccclass,P=s.property;!function(t){t[t.BT_NONE=0]="BT_NONE",t[t.BT_STONE=1]="BT_STONE"}(I||(I={})),function(t){t[t.GS_INIT=0]="GS_INIT",t[t.GS_PLAYING=1]="GS_PLAYING",t[t.GS_END=2]="GS_END"}(M||(M={}));t("GameMgr",(_=R("GameMgr"),T=P({type:h}),b=P({type:y}),g=P({type:u}),N=P({type:l}),m=P({type:f}),_((L=e((C=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"cubePrfb",L,n(e)),i(e,"roadLength",v,n(e)),e._road=[],i(e,"playerCtr",G,n(e)),i(e,"startMenu",w,n(e)),i(e,"stepsLabel",B,n(e)),i(e,"myTouchDownCtr",E,n(e)),e.initRoadLength=20,e.addRoadThreshold=10,e.addRoadLength=10,e}r(e,t);var o=e.prototype;return o.start=function(){var t;this.curState=M.GS_INIT,null==(t=this.playerCtr)||t.node.on("JumpEnd",this.onPlayerJumpEnd,this)},o.update=function(t){},o.generateRoad=function(){this.node.removeAllChildren(),this._road=[],this._road.push(I.BT_STONE);for(var t=1;t<this.roadLength;t++)this._road[t-1]===I.BT_NONE?this._road.push(I.BT_STONE):this._road.push(Math.min(1,Math.floor(2*Math.random())));for(var e=0;e<this._road.length;e++){var r=this.spawnBlockByType(this._road[e]);r&&(this.node.addChild(r),r.setPosition(e,-1.5,0))}},o.initRoad=function(){this.node.removeAllChildren(),this._road=[],this.addRoad(this.initRoadLength)},o.tryAddRoad=function(t){this._road.length-t<this.addRoadThreshold&&this.addRoad(this._road.length+this.addRoadLength)},o.addRoad=function(t){for(var e=this._road.length,r=e;r<t;r++)0===r||this._road[r-1]===I.BT_NONE?this._road.push(I.BT_STONE):this._road.push(Math.min(1,Math.floor(2*Math.random())));for(var i=e;i<this._road.length;i++){var n=this.spawnBlockByType(this._road[i]);n&&(this.node.addChild(n),n.setPosition(i,-1.5,0))}},o.spawnBlockByType=function(t){if(!this.cubePrfb)return null;var e=null;switch(t){case I.BT_STONE:e=c(this.cubePrfb)}return e},o.init=function(){this.startMenu&&(this.startMenu.active=!0),this.initRoad(),this.playerCtr&&this.playerCtr.node.setPosition(d.ZERO),this.myTouchDownCtr&&this.myTouchDownCtr.setInputActive(!1),this.playerCtr.reset()},o.onStartBtnClicked=function(){this.curState=M.GS_PLAYING},o.checkResult=function(t){t<this.roadLength?this._road[t]==I.BT_NONE&&(this.curState=M.GS_INIT):this.curState=M.GS_INIT},o.onPlayerJumpEnd=function(t){this.stepsLabel&&(this.stepsLabel.string=""+(t>=this.roadLength?this.roadLength:t)),this.checkResult(t),this.tryAddRoad(t)},a(e,[{key:"curState",set:function(t){var e=this;switch(t){case M.GS_INIT:this.init();break;case M.GS_PLAYING:this.startMenu&&(this.startMenu.active=!1),this.stepsLabel&&(this.stepsLabel.string="0"),setTimeout((function(){e.myTouchDownCtr&&e.myTouchDownCtr.setInputActive(!0)}),.1);break;case M.GS_END:}}}]),e}(p)).prototype,"cubePrfb",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(C.prototype,"roadLength",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),G=e(C.prototype,"playerCtr",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(C.prototype,"startMenu",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(C.prototype,"stepsLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(C.prototype,"myTouchDownCtr",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=C))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/Level.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FishGroup.ts"],(function(e){"use strict";var t,i,n,r,s,o,a,p,u,c,l,h,m,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,a=e._decorator,p=e.CCInteger,u=e.CCFloat,c=e.Vec2,l=e.randomRangeInt,h=e.Vec3,m=e.Component},function(e){f=e.FishGroup}],execute:function(){var y,_,v,z,g,S,b,d,E,G;o._RF.push({},"081f4vBtXVEgpn8VG2jEJsI","Level",void 0);var w=a.ccclass,L=a.property;e("Level",(y=w("Level"),_=L({type:p,visible:!0,displayName:"地图 宽"}),v=L({type:p,visible:!0,displayName:"地图 高"}),z=L({type:u,visible:!0,displayName:"地图单元格边长"}),y(((G=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,n(t,"_mapSizeX",b,r(t)),n(t,"_mapSizeY",d,r(t)),n(t,"_mapElementSize",E,r(t)),t._fishGroup=void 0,t}i(t,e);var o=t.prototype;return o.start=function(){this.init()},o.onDestroy=function(){this.myDestroy()},o.createLv=function(){this._fishGroup.createFishes(new c(this._mapSizeX,this._mapSizeY));for(var e=l(2,5),t=0;t<e;t++){var i=new c(l(0,this._mapSizeX),l(0,this._mapSizeY));this._fishGroup.turnover(i)}},o.init=function(){t._instance=this,this._fishGroup=this.getComponent(f),this._fishGroup.init(),this.createLv()},o.myDestroy=function(){this._fishGroup.myDestroy()},o.getElementPosById=function(e){return this.getElementPos(e.x,e.y)},o.getElementPos=function(e,t){return new h(e*this._mapElementSize,t*this._mapElementSize,0)},s(t,[{key:"mapSize",get:function(){return new c(this._mapSizeX,this._mapSizeY)}}],[{key:"instance",get:function(){return t._instance}}]),t}(m))._instance=void 0,b=t((S=G).prototype,"_mapSizeX",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),d=t(S.prototype,"_mapSizeY",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),E=t(S.prototype,"_mapElementSize",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=S))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ClickFishCtr.ts","./FishGroup.ts","./Level.ts","./MyFish.ts","./GameMgr.ts","./MyTouchDownCtr.ts","./PlayerCtr.ts","./Test.ts","./Fish.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MyFish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Fish.ts","./Level.ts"],(function(i){"use strict";var t,e,n,r,s,o,c,u,h,l;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized,s=i.createClass},function(i){o=i.cclegacy,c=i._decorator,u=i.Component},function(i){h=i.Fish},function(i){l=i.Level}],execute:function(){var a,f,p,y,_;o._RF.push({},"00c26tkJxxJWa830jKiSBWP","MyFish",void 0);var d=c.ccclass,v=c.property;i("MyFish",(a=d("MyFish"),f=v({type:h,visible:!0}),a((_=t((y=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return(t=i.call.apply(i,[this].concat(s))||this)._myId=void 0,n(t,"_fish",_,r(t)),t._fishGroup=void 0,t}e(t,i);var o=t.prototype;return o.init=function(i,t){this._myId=i,this._fishGroup=t,this.node.setPosition(l.instance.getElementPosById(this._myId))},o.myDestroy=function(){this._fishGroup=null},o.turnOver=function(){this._fish.turnOver()},o.click=function(){this._fishGroup.turnover(this._myId)},s(t,[{key:"id",get:function(){return this._myId}}]),t}(u)).prototype,"_fish",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/MyTouchDownCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerCtr.ts"],(function(t){"use strict";var n,r,e,i,o,u,a,c,s,p,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,r=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,u=t._decorator,a=t.UITransform,c=t.input,s=t.Input,p=t.Component},function(t){l=t.PlayerCtr}],execute:function(){var h,T,f,y,C,d,m;o._RF.push({},"a5145NAZPhDHLxwEZFdzfYj","MyTouchDownCtr",void 0);var S=u.ccclass,v=u.property;t("MyTouchDownCtr",(h=S("MyTouchDownCtr"),T=v({type:a}),f=v({type:l}),h((d=n((C=function(t){function n(){for(var n,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return n=t.call.apply(t,[this].concat(o))||this,e(n,"uiTransform",d,i(n)),n._middleX=0,e(n,"playerCtr",m,i(n)),n}r(n,t);var o=n.prototype;return o.start=function(){this.init()},o.update=function(t){},o.init=function(){this._middleX=this.uiTransform.contentSize.x/2},o.onLoad=function(){c.on(s.EventType.TOUCH_START,this.onTouchStart,this)},o.onDestroy=function(){c.off(s.EventType.TOUCH_START,this.onTouchStart,this)},o.onTouchStart=function(t){t.getLocation().x<=this._middleX?this.playerCtr.jumpByStep(2):this.playerCtr.jumpByStep(1)},o.setInputActive=function(t){t?c.on(s.EventType.TOUCH_START,this.onTouchStart,this):c.off(s.EventType.TOUCH_START,this.onTouchStart,this)},n}(p)).prototype,"uiTransform",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(C.prototype,"playerCtr",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,s,n,o,r,u,p,c,h,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,u=t.Animation,p=t.Vec3,c=t.input,h=t.Input,a=t.Component}],execute:function(){var _,m,d,l,P;o._RF.push({},"75ee8Pv0JxJprQm7MkW8oW/","PlayerCtr",void 0);var y=r.ccclass,f=r.property;t("PlayerCtr",(_=y("PlayerCtr"),m=f({type:u}),_((P=e((l=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._startJump=!1,e._jumpStep=0,e._curJumpTime=0,e._jumpTime=.3,e._curJumpSpeed=0,e._curPos=new p,e._deltaPos=new p(0,0,0),e._targetPos=new p,e._curMoveIndex=0,s(e,"BodyAnim",P,n(e)),e}i(e,t);var o=e.prototype;return o.start=function(){c.on(h.EventType.MOUSE_UP,this.onMouseUp,this)},o.update=function(t){this._startJump&&(this._curJumpTime+=t,this._curJumpTime>this._jumpTime?(this.node.setPosition(this._targetPos),this._startJump=!1,this.onOnceJumpEnd()):(this.node.getPosition(this._curPos),this._deltaPos.x=this._curJumpSpeed*t,p.add(this._curPos,this._curPos,this._deltaPos),this.node.setPosition(this._curPos)))},o.onMouseUp=function(t){},o.jumpByStep=function(t){this._startJump||(this._startJump=!0,this._jumpStep=t,this._curJumpTime=0,this._curJumpSpeed=this._jumpStep/this._jumpTime,this.node.getPosition(this._curPos),p.add(this._targetPos,this._curPos,new p(this._jumpStep,0,0)),this.BodyAnim&&(1===t?this.BodyAnim.play("oneStep"):2===t&&this.BodyAnim.play("twoStep")),this._curMoveIndex+=t)},o.setInputActive=function(t){t?c.on(h.EventType.MOUSE_UP,this.onMouseUp,this):c.off(h.EventType.MOUSE_UP,this.onMouseUp,this)},o.onOnceJumpEnd=function(){this.node.emit("JumpEnd",this._curMoveIndex)},o.reset=function(){this._curMoveIndex=0},e}(a)).prototype,"BodyAnim",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=l))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/Test.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,r,o,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,o=t.Label,s=t.Component}],execute:function(){var c;n._RF.push({},"131e7NrImJEr5GuvKLIQwZd","Test",void 0);var i=r.ccclass;r.property,t("Test",i("Test")(c=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this)._label=void 0,e}e(n,t);var r=n.prototype;return r.start=function(){this._label=this.getComponent(o);this.name;this._label?this._label.string="Hello":console.error("cannot find Label")},r.update=function(t){},n}(s))||c);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});